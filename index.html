<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FINANÃ‡AS EM DIA</title>

<style>
:root {
  --bg: #020617;
  --card: rgba(255,255,255,0.03);
  --border: rgba(255,255,255,0.08);
  --text: #e5e7eb;
  --muted: #94a3b8;
  --green: #22c55e;
  --red: #ef4444;
  --yellow: #facc15;
  --accent: #38bdf8;
}

.light {
  --bg: #f8fafc;
  --card: #ffffff;
  --border: #e2e8f0;
  --text: #020617;
  --muted: #475569;
}

* {
  box-sizing: border-box;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  padding: 16px;
  transition: 0.3s;
}

.app {
  max-width: 480px;
  margin: auto;
}

/* LOGO */
.logo {
  text-align: center;
  font-size: 26px;
  font-weight: 800;
  letter-spacing: 2px;
  margin-bottom: 6px;
  background: linear-gradient(90deg, var(--green), var(--accent));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.subtitle {
  text-align: center;
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 16px;
}

/* TOGGLE */
.toggle {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.toggle button {
  background: var(--card);
  border: 1px solid var(--border);
  padding: 8px 14px;
  border-radius: 20px;
  color: var(--text);
}

/* CARD */
.card {
  background: var(--card);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px;
  margin-bottom: 14px;
}

/* INPUTS */
input, button {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  font-size: 15px;
}

button.primary {
  background: linear-gradient(90deg, var(--green), var(--accent));
  border: none;
  font-weight: bold;
  color: #020617;
}

/* DEBT */
.debt {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.badge {
  font-size: 11px;
  padding: 4px 10px;
  border-radius: 999px;
  width: fit-content;
}

.paid { background: var(--green); color: #022c22; }
.late { background: var(--red); }
.warning { background: var(--yellow); color: #422006; }

.actions {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.actions button {
  flex: 1;
  background: var(--accent);
  color: #020617;
}

.remove {
  background: var(--red) !important;
  color: white !important;
}

.line {
  text-decoration: line-through;
  opacity: 0.5;
}
</style>
</head>

<body>
<div class="app">

  <div class="logo">FINANÃ‡AS EM DIA</div>
  <div class="subtitle">Controle simples. Vida financeira leve.</div>

  <div class="toggle">
    <button onclick="toggleTheme()">ðŸŒ— Alternar tema</button>
  </div>

  <!-- ADD -->
  <div class="card">
    <input id="name" placeholder="Nome da dÃ­vida">
    <input id="value" type="number" placeholder="Valor (R$)">
    <input id="date" type="date">
    <button class="primary" onclick="addDebt()">Adicionar dÃ­vida</button>
  </div>

  <!-- LIST -->
  <div id="list"></div>

</div>

<script>
let debts = JSON.parse(localStorage.getItem("debts")) || [];
let theme = localStorage.getItem("theme") || "dark";

document.body.classList.toggle("light", theme === "light");

function toggleTheme() {
  theme = theme === "dark" ? "light" : "dark";
  localStorage.setItem("theme", theme);
  document.body.classList.toggle("light", theme === "light");
}

function save() {
  localStorage.setItem("debts", JSON.stringify(debts));
  render();
}

function addDebt() {
  if (!name.value || !value.value || !date.value) return;
  debts.push({ name: name.value, value: value.value, date: date.value, paid: false });
  name.value = value.value = date.value = "";
  save();
}

function togglePaid(i) {
  debts[i].paid = !debts[i].paid;
  save();
}

function removeDebt(i) {
  debts.splice(i, 1);
  save();
}

function status(d) {
  if (d.paid) return "paid";
  const diff = (new Date(d.date) - new Date()) / 86400000;
  if (diff < 0) return "late";
  if (diff <= 3) return "warning";
  return "";
}

function render() {
  list.innerHTML = "";
  debts.forEach((d, i) => {
    const s = status(d);
    list.innerHTML += `
      <div class="card debt ${d.paid ? "line" : ""}">
        <strong>${d.name}</strong>
        <span>R$ ${d.value}</span>
        <span>Vence em ${new Date(d.date).toLocaleDateString()}</span>
        ${s ? `<span class="badge ${s}">${s === "paid" ? "PAGA" : s === "late" ? "ATRASADA" : "EM BREVE"}</span>` : ""}
        <div class="actions">
          <button onclick="togglePaid(${i})">${d.paid ? "Desfazer" : "Pagar"}</button>
          <button class="remove" onclick="removeDebt(${i})">Remover</button>
        </div>
      </div>
    `;
  });
}

const name = document.getElementById("name");
const value = document.getElementById("value");
const date = document.getElementById("date");
const list = document.getElementById("list");

render();
</script>
</body>
</html>
