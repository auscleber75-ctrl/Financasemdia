<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FINANÃ‡AS EM DIA</title>

<style>
:root{
--bg:#020617;--card:#020617;--border:#1e293b;
--text:#e5e7eb;--muted:#94a3b8;
--green:#22c55e;--red:#ef4444;--blue:#38bdf8;
}
.light{
--bg:#f8fafc;--card:#fff;--border:#e2e8f0;
--text:#020617;--muted:#475569;
}
*{box-sizing:border-box;font-family:system-ui}
body{margin:0;background:var(--bg);color:var(--text);padding:16px}
.app{max-width:480px;margin:auto}
.card{background:var(--card);border:1px solid var(--border);
border-radius:16px;padding:14px;margin-bottom:14px}
h1{text-align:center;background:linear-gradient(90deg,var(--green),var(--blue));
-webkit-background-clip:text;-webkit-text-fill-color:transparent}
input,button{width:100%;padding:12px;margin-top:8px;border-radius:10px;
border:1px solid var(--border);background:transparent;color:var(--text)}
button{background:var(--green);border:none;font-weight:bold;color:#022c22}
.link{color:var(--blue);text-align:center;margin-top:10px;cursor:pointer}
.hidden{display:none}
.actions{display:flex;gap:8px}
.actions button{flex:1;background:var(--blue);color:#020617}
.remove{background:var(--red)!important;color:#fff!important}
</style>
</head>

<body>
<div class="app">

<h1>FINANÃ‡AS EM DIA</h1>

<!-- LOGIN -->
<div id="login" class="card">
  <input id="loginUser" placeholder="UsuÃ¡rio ou Email">
  <input id="loginPass" type="password" placeholder="Senha">
  <button onclick="login()">Entrar</button>
  <div class="link" onclick="showRegister()">Criar conta</div>
</div>

<!-- CADASTRO -->
<div id="register" class="card hidden">
  <input id="regName" placeholder="Nome completo">
  <input id="regUser" placeholder="UsuÃ¡rio">
  <input id="regEmail" placeholder="Email">
  <input id="regCpf" placeholder="CPF">
  <input id="regBirth" type="date">
  <input id="regPhone" placeholder="Telefone">
  <input id="regPass" type="password" placeholder="Senha">
  <button onclick="register()">Cadastrar</button>
  <div class="link" onclick="showLogin()">Voltar ao login</div>
</div>

<!-- APP -->
<div id="app" class="hidden">

<div class="card">
  <strong id="welcome"></strong>
  <button onclick="toggleTheme()">ðŸŽ¨ Personalizar app</button>
</div>

<!-- DÃVIDA -->
<div class="card">
  <strong>Adicionar dÃ­vida</strong>
  <input id="dName" placeholder="DescriÃ§Ã£o">
  <input id="dValue" type="number" placeholder="Valor">
  <input id="dDate" type="date">
  <button onclick="addDebt()">Adicionar dÃ­vida</button>
</div>

<!-- APORTE -->
<div class="card">
  <strong>Aporte mensal</strong>
  <input id="aValue" type="number" placeholder="Valor mensal">
  <button onclick="addAporte()">Salvar aporte</button>
</div>

<div id="list"></div>

</div>
</div>

<script>
let users=JSON.parse(localStorage.getItem("users"))||[];
let currentUser=null;

function showRegister(){loginDiv.classList.add("hidden");registerDiv.classList.remove("hidden");}
function showLogin(){registerDiv.classList.add("hidden");loginDiv.classList.remove("hidden");}

function register(){
  const user={
    name:regName.value,
    username:regUser.value,
    email:regEmail.value,
    cpf:regCpf.value,
    birth:regBirth.value,
    phone:regPhone.value,
    pass:regPass.value,
    debts:[],
    aporte:0,
    theme:"dark"
  };
  users.push(user);
  localStorage.setItem("users",JSON.stringify(users));
  alert("Cadastro realizado!");
  showLogin();
}

function login(){
  const u=users.find(u=>
    (u.username===loginUser.value || u.email===loginUser.value)
    && u.pass===loginPass.value
  );
  if(!u) return alert("Credenciais invÃ¡lidas");
  currentUser=u;
  loginDiv.classList.add("hidden");
  appDiv.classList.remove("hidden");
  welcome.innerText=`Bem-vindo(a), ${u.name.split(" ")[0]}!`;
  document.body.classList.toggle("light",u.theme==="light");
  render();
}

function toggleTheme(){
  currentUser.theme=currentUser.theme==="dark"?"light":"dark";
  document.body.classList.toggle("light",currentUser.theme==="light");
  save();
}

function save(){
  localStorage.setItem("users",JSON.stringify(users));
  render();
}

function addDebt(){
  if(!dName.value||!dValue.value||!dDate.value)return;
  currentUser.debts.push({name:dName.value,value:+dValue.value,date:dDate.value});
  dName.value=dValue.value=dDate.value="";
  save();
}

function addAporte(){
  currentUser.aporte=+aValue.value||0;
  save();
}

function render(){
  list.innerHTML="";
  currentUser.debts.forEach((d,i)=>{
    list.innerHTML+=`
    <div class="card">
      <strong>${d.name}</strong><br>
      R$ ${d.value} - ${new Date(d.date).toLocaleDateString()}
    </div>`;
  });
}

const loginDiv=document.getElementById("login");
const registerDiv=document.getElementById("register");
const appDiv=document.getElementById("app");
const welcome=document.getElementById("welcome");
const list=document.getElementById("list");

const regName=regNameInput=document.getElementById("regName");
const regUser=document.getElementById("regUser");
const regEmail=document.getElementById("regEmail");
const regCpf=document.getElementById("regCpf");
const regBirth=document.getElementById("regBirth");
const regPhone=document.getElementById("regPhone");
const regPass=document.getElementById("regPass");

const loginUser=document.getElementById("loginUser");
const loginPass=document.getElementById("loginPass");

const dName=document.getElementById("dName");
const dValue=document.getElementById("dValue");
const dDate=document.getElementById("dDate");
const aValue=document.getElementById("aValue");
</script>
</body>
</html>
